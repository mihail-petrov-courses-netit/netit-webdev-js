**самостоятелна работа**

# Борса плоТ и зелен Чук

## Въведение в упражнението

В Неделя, благоверните християни изключват телевизора и отиват на църква, където могат да намерят смирение и уединение от сивотата на ежедневието си сред цветните багри но религиозните иконописи. Но докато едните свеждат глава в смирение и благодат други се набират на кантара с идеята да припечелят някой петак.

Неделната борса за плод и краставичук е притегателен център за смелите идей на предприемчивите котараци. На тезгяха е всичко с изключение на плодове и зеленчуци, от стари гуми трета употреба до ръчен миксер химикалка, от парти машина за захарен памук до нокти от птицечовка, от пиле до мляко всичко има в този микс.Данъчните акули надушиха кръви започнаха пагобно да интегрират касови апарати и интелектуално извисени везни, на всяка сергия. Настанаха зловещи времена, защото софтуера не работи, а цялата кампания по ограбване на честния търговец, ще остане повдигната на политически трупчета.

Моля ви помогнете на бедните данъчни да интегрират софтуерните продукти на бъдещето.

## СПЕЦИФИКАЦИЯ

В касовия апарат са интегрирани всички сложни политики, на проспериращата монархия, на този етап се поддържат следните операции :

- Стартиране на деня
- Покупка
- Продажба
- Справки
- Рушвети
- Приключване на деня

Компютърните специалисти се кълнат че това е най-модерния уред, който ще улесни живота на всички търгаши и ще вкара свежи постъпления в крайно пробитият бюджет на империята.

Понеже ценим, вашия интелектуален потенциал, и вярваме че разработката на софтуерни продукти и тяхната интеграция трябва да бъде лесен забавен и безскрупулно безпроблемен процес, сме ви подготвили списък със стимулационни стоки, с които да тествате магията на касовия апарат.

**СТАРТИРАНЕ НА ДЕН**  **/**  **ПРИКЛЮЧВАНЕ НА ДЕН**

Всяка сутрин режима е типичен, кафенце цигарка и потриваме ръце доволно в очакване на шараните. Но както знаем НАП не спи и винаги трябва бдително да сте готови да активирате вашето многофункционално устройство за касови разплащания

За да достъпите умопомрачително комплексните функции на апарата трябва да си отворите партидата за деня. **За съжаление не ни стигна**  **UI/UX**  **хонорара затова произведствен дефект налага да се листнат всички опции, за операции дори преди да е отворен деня.**

| **ВАЖНО** | Преди да е отворен деня не можете да извършвате никаква **активна операция** но можете да я избирате. Ако клиента от бързане избере операция без да му е отворена партидата за деня, любезно го наругайте и му предоставете възможност да направи повторен избор. |
| --- | --- |

По време на процедурата по отваряне на ден, е необходимо да въведете капитала с който ще работите на деня. Капитала е цяло положително число, валутата е любимите ни **парички.**

На лице са няколко стриктни ограничения

- Не можете да отворите деня си повторно, ако се опитате да го направите системата трябва по възможно най-любезния начин да ви насочи към екрана с операциите.
- Не можете да затворите деня си без да сте го отворили, ако се опитате да го направите системата трябва по възможно най-любезния начин да ви насочи към екрана с операциите.
- Можете да ползвате всички справки, ако партидата не е отворена

Всеки път когато затваряте деня си дневните ви отчети се трансформират във **вчерашни такива.** Знайте че когато проверката опре до кокала, историята на вашите измами ще бъде детайлно надушена и проверена.

По време на процедурата по затваряне на ден, търговеца трябва да види информация за текущата стойност на неговите капитали.

| **ВАЖНО** | Оставащия капитал се запазва за следващия ден. Ако сте **приключили деня** си с **10 000 парички** , то при опит да направите повторно отваряне трябва да използвате тази сума като основа. Апарата валидира дали сте въвели сума по-голяма или равна на остатъчната от предишния ден и извежда съобщение за грешка. Пари винаги могат да дойдат от някъде, но няма как да ги профукаме преди следващия работен ден ( **или поне не бива** ) |
| --- | --- |

**ПОКУПКА**

Умният ни апарат може да води подробен отчет за всичко, което се случва във вашия бизнес, така е в помощ на вашата търговска дейност и в огромна услуга на данъчната. Процеса по покупка (заприходяване на закупена стока) се характеризира със следните стъпки.

1. Търговеца въвежда тайния си код
2. Търговеца избира категория на стоката
3. Търговеца въвежда име на стоката
4. Търговеца въвежда количеството от закупената стока
5. Търговеца въвежда цената на която е купил стоката
6. Търговеца въвежда цената на която ще продаде стоката

След приключване на седем стъпковия процес по зачисляване на стоката, системата задължително листва, всички данни и подканя потребителя да се съгласи с въведените. **Търговеца има възможност да редактира всяка индивидуална стъпка**. В никакъв случай не го карайте да въвежда всички нега отначало, това ще срине репутацията на нашите апарати и ще им създаде име на сложни и ненужни. По време на редакция изведете, въведената вече стойност и подканете за актуализирането й.

След успешно завеждане на стока системата генерира уникален идентификатор, по правилата описани в държавен стандарт **FU666**

Системата трябва да проверява за валидни данни при всяка стъпка, ако в даден момент настъпи несъответствие между очакваните данни и въведените такива е необходимо да се предостави подходящ механизъм с който тази злина да бъде поправена. Клиентите ни са скъпи и често технически неграмотни.

След успешно приключване на операцията покупка, търговеца плаща данък ДДС от 20% за това че е купил стоката. ДДС се начислява върху единичната цена, на стоката.

| **ПРИМЕР** | Купуваме стока, с единична цена **100 парички** и бройка **5 единици**. Сумата на покупката е **500 парички. Дължим данък от 20**** % **** което прави допълнителни 100 лева. Когато теглим чертата трябва да платим **** 600 **** парички от нашия джоб.** |
| --- | --- |

| **ВНИМАНИЕ** | Цената на която можете да продадете стоката не трябва да надхвърля 50% от цената на която сте я закупили.Така ако купите стока на цена 100 парички, можете да я продадете за максимум 150 парички. **Понеже системата е гадна, не можете да си вкарате данъчните разходи като част от цената, така че смятайте правилно**  **😊**** Покупката на цена 100 парички ще изкара от вашия джоб 100 + 20 **** ( ****данъци**** ) ****, но винаги трябва да смятате 50**** % **** от диничната цена преди данъците.** |
| --- | --- |

**ПРОДАЖБА**

Има два варианта за продажба :

- Ръчна
- С бар код

**При ръчната продажба се правят следните стъпки**** :**

- Листват се категориите и се избира най-подходящата или се листват всички продукти в зависимост от режима на устройството ( **Потребителя има възможност да си избере режима от настройки на режима** )
- Избира се продукта
- Въвежда се количеството
- **Системата проверява дали количеството е налично**
- **Извежда се зената**
- **Потвърждава се поръчката**
- **Всичко приключва**

**При продажба с бар код се правят следните стъпки**** :**

- Въвежда се количеството
- **Системата проверява дали количеството е налично**
- **Извежда се зената**
- **Потвърждава се поръчката**
- **Всичко приключва**

**При бар кода стъпка едно и две** **(****от оригиналния процес****)**  **се прескачат, защото системата е приела вече кода и не е необходимо да го правим на ръка****.** Ако сме въвели бар код и този продукт липсва е необходимо да се изведе подходящо съобщение, за не наличен артикул.

След осъществяване на успешна продажба, дължите данък от 1% върху направената продажба.

| **ПРИМЕР** | Продавате стока, с единична цена **100 парички** и бройка **1 единици**. В каса ви влизат 100 парички но на края на деня преди да осъществите затварянето, на касата ще трябва да платите 1% от всички оборотни средства като данък. Ако за цял ден сте направили една продажба то трябва да внесете 1 паричка като данък |
| --- | --- |

**СПРАВКА – ФИНАНСОВ РЕЗУЛТАТ**

Съществуват два вида финансов резултат дневен и вчерашен. Математиката зад тази операция е доста елементарна,

- вземете сбора на всички стоки които сте закупили за деня (вашите разходи)
- вземете сбора на всички стоки които сте продали за деня(вашите приходи)

Разликата между приходите и разходите е вашия дневен финансов резултат. **Ако в рамките на деня сте използвали услугата за рушвети** , то тогава трябва да актуализирате калкулацията на вашия финансов резултат по описаните правила.

**Видовете справки които можете да извършвате в тази категория са**** :**

- Листване на текущ дневен финансов резултат
- Листване на всички вчерашни финансови резултати последователно
- Листване на всички вчерашни финансови резултати във възходящ ред
- Листване на всички вчерашни финансови резултати в низходящ ред
- Средно аритметичната стойност на всички вчерашни финансови резултати

**СПРАВКА - ОБОРОТИ**

Оборотите са вид справка в която можете да видите какви парички сте натрупали в рамките на деня. За справката е необходимо да се вземат само и единствено продажбите за деня

Различаваме справки за дневен оборот и за вчерашен оборот

- Справка дневен оборот
- Справка дневен оборот по категория
- Справка вчерашен оборот
- Справка за конкретен вчерашен оборот
- Справка месечни всички вчерашни обороти във възходящ ред
- Справка месечни всички вчерашни обороти в низходящ ред

**СПРАВКА – ДРУГИ**

Ако имате нужда от помощни справки, можете да си имплементирате. Например сещаме се че ще ни е много полезно ако имаме информация за всички стоки, които продаваме защото в един момент ще ни потрябват техните баркодове.

**РУШВЕТИ**

И народа по-малко ограбен и ние сити, е девиз на министерството на корупцията от години. Справедливите управници вярват, че нито една пазарна икономика не бива да бъде поставяна на пода по очи, достатъчно е само на колене. Затова се изисква от нас да интегрираме важна функционалност за управление на рушвети, подкупи, поощрения, награди, почерпки. Печелите вие печели и спорта, а който не играе не печели.

Когато отворите екрана за рушветите, е задължително да приключите транзакцията. Веднъж отворена тази функционалност тя настоява, честно и коректно отношение. Процеса по офериране на финансова подкрепа преминава през следните стъпки:

1. Търговеца въвежда специалния идентификационен код който получава от данъчния
2. Машината идентифицира дали пред нас седи истински подкупен данъчен а не някой самозвана честна мижитурка, която просто иска да ни направи проверка и да избяга
3. След успешна верификация машината автоматично изпраща сума в размер равен на сумата в избрания план рушвет, койм който търговеца е абониран. Ако това е първото ви рушветиране трябва да се листнат актуалните рушветни планове.
4. Системата автоматично активира, процесите свързани с избрания план.
5. Системата извежда окуражително съобщение и ни връща в основното меню.

**Тарифни абонаментни планове**

За да са доволни нашите клиенти на вашето внимание актуалните абонаментни планове

| **название** | **облаги** | **разход** |
| --- | --- | --- |
| Мезето на капитана | премахва 5% от всички начислени данъци продажба | 50 |
| **Каракуда** | премахва 10% от всички начислени данъци продажба и намалява ДДС покупка с 1%за всички бъдещи периоди | 100 |
| Шаран | премахва 15% от всички начислени данъци продажба намалява ДДС покупка с 5% следващата стока която закупите не се облага с ДДС | 200 |

| **ВАЖНО** | В рамките на един работен ден, можете да си изберете само един тарифен план. Тарифен план се избира еднократно само в рамките на първото ви влизане в рамките на текущия ден. |
| --- | --- |

| **ВАЖНО** | Когато отчитате, процентно намаление на данъците в края на деня, трябва да знаете, че процентите се натрупват, ако дадете рушвет повече от веднъж **Пример.**  **Използвате план шаран. Това значи че при първия рушвет получавате 15**** % **** намаление от данъка на края на деня. Всяко следващо ползване добаввя допълнителни 15 ****%**  **към крайния резултат.**** Ако в края на деня трябва да платим 30 парички данък, намаляваме с **** 30% **** тази сума и получаваме **** 9 **** парички, отчисление. Резултата ни е 21 парички, данък в полза на държавата.** |
| --- | --- |

| **ОЩЕ
 ПО -ВАЖНО **| Намаляването на данъка винаги се закръгля към цяло число.Ако на края на деня трябва да платим данък,** 1 паричка и имаме каквото и да е намаление различно от 100 ****%**  **винаги ще получим дробно число. Тоест няма да получим намаление хич.**  **Ако трябва да платим данък 5 парички и имаме намаление 50**** % **** то резултата ще бъде намаление с 2,5 парички, което ще закръглим към 2. ****Резултатния данък е 3 парички.** |
| --- | --- |

**Какво се случва, ако влезем в меньо рушвети по погрешка**  **?**

Наш дълг е като инженери да следим за тези, нелоялни търговци които искат да опетнят имиджа на любимата ни държава. Всеки, който дръзне да влезе в системата и въведе не валиден номер, автоматично начислява **допълнителни 10**** % **** данък** върху продажбата на всички свои стоки. За да му е гадно и да мисли друг път преди да се опита да лъже режима. В менюто не се влиза по погрешка, а само с намерение да дадеш. Така че без оправдания, вашите решения ще ви доведат до страдания 😊

| **ВАЖНО** | Системата различава три вида данъчен код:
- На подкупки (първите две цифри са **четни** )
- На честни ( първите две цифри са **нечетни** )
- **Невалидни номера** **(****съдържат повече от 6 цифри****)**
 |
| --- | --- |

**ТАЕН КОД**

Всеки търговски автомат, разполага с уникален идентификатор който служи като контролна команда с която се отключват всичките му операции по покупка. Този код се генерира само и единствено в началото на деня и необходимо да се запомни или запише на лист хартия защото не съществува фабрична команда с която да бъде изведен повторно.

**Тайния код има следната сигнатура**

**{**** БРОЙ ОПЕРАЦИИ ЗА МИНАЛИЯ ДЕН ****}$${**** БРОЙ ПРОДАЖБИ ПРЕЗ МИНАЛИЯ ДЕН ****}%%{**** ПЕЧАЛБА ЗА МИНАЛИЯ ДЕН ****}**

Където буквичките отговарят на следните стойности:

- **A:**  **БРОЙ ОПЕРАЦИИ ЗА МИНАЛИЯ ДЕН**
- **B:**  **БРОЙ ПРОДАЖБИ ПРЕЗ МИНАЛИЯ ДЕН**
- **C:**  **ПЕЧАЛБА ЗА МИНАЛИЯ ДЕН**

| **ВАЖНО** | Броя на операциите, представлява всички пъти в които сте активирали дадена операция през изминалия ден. Операции които не са успели да се осъществят, тоест не сте имали правомощия за тях, не се включват в тази бройка. Ако брой на операциите, през изминалия ден не съществува, то стойността по подразбиране е ( **#@** )Ако през изминалия ден не са сторени никакви продажби, заменете бройката със символите (\*\*)Печалбата за миналия ден е разликата между покупката и продажбата. Ако стойността е отрицателна. Тоест на лице е загуба, то резултат се заменя с две нулички ( **00** ). |
| --- | --- |

| **ПРИМЕР** | Големите скоби описват, нотация на задължителност, а доларчетата са задължителна част от номера.Таен код може да бъде описан със следния пример 153 **$$** 10 **%%** 140Таен код при наличие на загуба 153 **$$** 10 **%%** 00 **Таен код при липса на операции** #@ **$$** 10 **%%** 133 |
| --- | --- |

**ДЪРЖАВЕН СТАНДАРТ**  **FU666**

Всички стоки, които завеждате във вашия регистър трябва да имат уникални номера, които се генерират на базата на следната сигнатура.

{A}@{B}%{C}^{D}

Където буквичките отговарят на следните стойности:

- A: **СЛЕДВАЩА БУКВА ОТ ЛАТИНСКАТА АЗБУКА** – започваме от A
- B: **БРОЙ БУКВИ В ИМЕТО НА СТОКАТА**
- C: **СЛЕДВАЩОТО ПРОСТО ЧИСЛО** – започваме от 2
- D: **НОМЕРА НА ЗАВЕДЕНАТА СТОКА ОТ НАЧАЛОТО НА ВЕЧНОСТТА** – започваме от 0 и никога не рестартираме

**ПРОВЕЖДАНЕ НА ТЕСТОВЕ ЗА ИНТЕГРАЦИЯ**

Спокойно без паника, тука всички сме програмисти, затова ще си говорим на нашия език.

Касовия ни апарат е средство на бъдещето, разполага с доволно **малко количество памет** и **никакви допълнителни възможности** за интеграция на сложни и интересни външни библиотеки. Защо си избрахме този език за програмиране, нямам никаква идея, но ще страдаме, заедно.

Имате право да ползвате само и единствено **обикновенни масиви** , (едномерни или многомерни), всякакви външни инструменти които не са написани лично от вас, ще прегреят устройството и то ще се изпари в гъсти кълба от пламъци и черен дим.

| **МНОГО**** ВАЖНО** | Ако например искаме да пъхаме безкрайно голямо количество елементи в даден масив трябва да помислим, как да го преоразмеряваме, защото в момента в който импортираме списъчни библиотеки. БУМ. Всичко приключва 😊. Това е агресивно и крайно ограничение, но не определяме ние правилата.Съсипаха я тази държава ейййй. Бъдете разумни с голямата сила идва и голямата безотговорност. |
| --- | --- |

За да докажем на министерството на корупцията че новия апарат работи и покрива всички стандарти ще трябва да изпълним серия от тестове, които ще бъдат ползвани от данъчните за да валидират успешната интеграция.

Разполагаме със списък съдържащ примерни стоки, които ще ползваме за нуждите на нашите тестове. Стоките можете да намерите в **приложение номер 78, от националната спецификация за мерки и теглилки. ИЗползайте ги за да експериментирате, докато си тествате приложенията. Очакваме просто всичко да работи.**

| **название** | **количестно** | **цена за покупка** | **Цена за продажба** | **категория** |
| --- | --- | --- | --- | --- |
| воден пистолет | 99 | 150 | 200 | оръжия |
| крива краставица | 10 | 1 | 2 | зеленчуци |
| спринцовка | 5 | 2 | 5 | аксесоари |
| маргарин | 1 | 5 | 7 | подправки |
| куркума | 500 | 3 | 6 | подправки |
| сърмички | 1000 | 7 | 9 | предястия |
| телоподаващо устройство | 5 | 450 | 600 | инструменти |
| ъглошлайв | 1 | 800 | 1300 | инструменти |

**приложение номер 78**